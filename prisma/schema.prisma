generator client {
  provider        = "prisma-client"
  output          = "../src/generated/prisma"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider = "postgresql"
}

model certificates {
  id          String   @id
  title       String
  description String
  image_url   String
  year        String
  url         String
  created_at  DateTime @default(now()) @db.Timestamptz(6)
}

model design_process {
  id         String   @id
  project_id String
  image_url  String
  created_at DateTime @default(now()) @db.Timestamptz(6)
  projects   projects @relation(fields: [project_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_design_process_project")
}

model project_responsibilities {
  id         String   @id
  project_id String
  name       String
  projects   projects @relation(fields: [project_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_project_responsibilities_project")
}

model projects {
  id                       String                     @id
  title                    String
  description              String
  type_code                String
  image_url                String
  github_url               String?
  figma_url                String?
  project_url              String?
  other_url                String?
  problem                  String?
  solution                 String?
  result                   String?
  created_at               DateTime                   @default(now()) @db.Timestamptz(6)
  is_starred               Boolean                    @default(false)
  year                     Int
  design_process           design_process[]
  project_responsibilities project_responsibilities[]
  project_types            project_types              @relation(fields: [type_code], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "projects_project_types_code_fk")
  tech_stacks              tech_stacks[]
}

model tech_stacks {
  id         String   @id
  project_id String
  name       String
  projects   projects @relation(fields: [project_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_tech_stacks_project")
}

model project_types {
  code     String     @id(map: "project_types_pk")
  name     String
  projects projects[]
}
